{"ts":1372101295951,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"'use strict';\nvar lrSnippet = require('grunt-contrib-livereload/lib/utils').livereloadSnippet;\nvar mountFolder = function (connect, dir) {\n  return connect.static(require('path').resolve(dir));\n};\n\nmodule.exports = function (grunt) {\n  // load all grunt tasks\n  require('matchdep').filterDev('grunt-*').forEach(grunt.loadNpmTasks);\n\n  // configurable paths\n  var yeomanConfig = {\n    app: 'app',\n    dist: 'dist'\n  };\n\n  try {\n    yeomanConfig.app = require('./component.json').appPath || yeomanConfig.app;\n  } catch (e) {}\n\n  grunt.initConfig({\n    yeoman: yeomanConfig,\n    watch: {\n      coffee: {\n        files: ['<%= yeoman.app %>/scripts/{,*/}*.coffee'],\n        tasks: ['coffee:dist']\n      },\n      coffeeTest: {\n        files: ['test/spec/{,*/}*.coffee'],\n        tasks: ['coffee:test']\n      },\n      compass: {\n        files: ['<%= yeoman.app %>/styles/{,*/}*.{scss,sass}'],\n        tasks: ['compass']\n      },\n      livereload: {\n        files: [\n          '<%= yeoman.app %>/{,*/}*.html',\n          '{.tmp,<%= yeoman.app %>}/styles/{,*/}*.css',\n          '{.tmp,<%= yeoman.app %>}/scripts/{,*/}*.js',\n          '<%= yeoman.app %>/images/{,*/}*.{png,jpg,jpeg,gif,webp,svg}'\n        ],\n        tasks: ['livereload']\n      }\n    },\n    connect: {\n      options: {\n        port: 9000,\n        // Change this to '0.0.0.0' to access the server from outside.\n        hostname: 'localhost'\n      },\n      livereload: {\n        options: {\n          middleware: function (connect) {\n            return [\n              lrSnippet,\n              mountFolder(connect, '.tmp'),\n              mountFolder(connect, yeomanConfig.app)\n            ];\n          }\n        }\n      },\n      test: {\n        options: {\n          middleware: function (connect) {\n            return [\n              mountFolder(connect, '.tmp'),\n              mountFolder(connect, 'test')\n            ];\n          }\n        }\n      }\n    },\n    open: {\n      server: {\n        url: 'http://localhost:<%= connect.options.port %>'\n      }\n    },\n    clean: {\n      dist: {\n        files: [{\n          dot: true,\n          src: [\n            '.tmp',\n            '<%= yeoman.dist %>/*',\n            '!<%= yeoman.dist %>/.git*'\n          ]\n        }]\n      },\n      server: '.tmp'\n    },\n    jshint: {\n      options: {\n        jshintrc: '.jshintrc'\n      },\n      all: [\n        'Gruntfile.js',\n        '<%= yeoman.app %>/scripts/{,*/}*.js'\n      ]\n    },\n    karma: {\n      unit: {\n        configFile: 'karma.conf.js',\n        singleRun: true\n      }\n    },\n    coffee: {\n      dist: {\n        files: [{\n          expand: true,\n          cwd: '<%= yeoman.app %>/scripts',\n          src: '{,*/}*.coffee',\n          dest: '.tmp/scripts',\n          ext: '.js'\n        }]\n      },\n      test: {\n        files: [{\n          expand: true,\n          cwd: 'test/spec',\n          src: '{,*/}*.coffee',\n          dest: '.tmp/spec',\n          ext: '.js'\n        }]\n      }\n    },\n    compass: {\n      options: {\n        sassDir: '<%= yeoman.app %>/styles',\n        cssDir: '.tmp/styles',\n        imagesDir: '<%= yeoman.app %>/images',\n        javascriptsDir: '<%= yeoman.app %>/scripts',\n        fontsDir: '<%= yeoman.app %>/styles/fonts',\n        importPath: '<%= yeoman.app %>/components',\n        relativeAssets: true\n      },\n      dist: {},\n      server: {\n        options: {\n          debugInfo: true\n        }\n      }\n    },\n    concat: {\n      dist: {\n        files: {\n          '<%= yeoman.dist %>/scripts/scripts.js': [\n            '.tmp/scripts/{,*/}*.js',\n            '<%= yeoman.app %>/scripts/{,*/}*.js'\n          ]\n        }\n      }\n    },\n    useminPrepare: {\n      html: '<%= yeoman.app %>/index.html',\n      options: {\n        dest: '<%= yeoman.dist %>'\n      }\n    },\n    usemin: {\n      html: ['<%= yeoman.dist %>/{,*/}*.html'],\n      css: ['<%= yeoman.dist %>/styles/{,*/}*.css'],\n      options: {\n        dirs: ['<%= yeoman.dist %>']\n      }\n    },\n    imagemin: {\n      dist: {\n        files: [{\n          expand: true,\n          cwd: '<%= yeoman.app %>/images',\n          src: '{,*/}*.{png,jpg,jpeg}',\n          dest: '<%= yeoman.dist %>/images'\n        }]\n      }\n    },\n    cssmin: {\n      dist: {\n        files: {\n          '<%= yeoman.dist %>/styles/main.css': [\n            '.tmp/styles/{,*/}*.css',\n            '<%= yeoman.app %>/styles/{,*/}*.css'\n          ]\n        }\n      }\n    },\n    htmlmin: {\n      dist: {\n        options: {\n          /*removeCommentsFromCDATA: true,\n          // https://github.com/yeoman/grunt-usemin/issues/44\n          //collapseWhitespace: true,\n          collapseBooleanAttributes: true,\n          removeAttributeQuotes: true,\n          removeRedundantAttributes: true,\n          useShortDoctype: true,\n          removeEmptyAttributes: true,\n          removeOptionalTags: true*/\n        },\n        files: [{\n          expand: true,\n          cwd: '<%= yeoman.app %>',\n          src: ['*.html', 'views/*.html'],\n          dest: '<%= yeoman.dist %>'\n        }]\n      }\n    },\n    cdnify: {\n      dist: {\n        html: ['<%= yeoman.dist %>/*.html']\n      }\n    },\n    ngmin: {\n      dist: {\n        files: [{\n          expand: true,\n          cwd: '<%= yeoman.dist %>/scripts',\n          src: '*.js',\n          dest: '<%= yeoman.dist %>/scripts'\n        }]\n      }\n    },\n    uglify: {\n      dist: {\n        files: {\n          '<%= yeoman.dist %>/scripts/scripts.js': [\n            '<%= yeoman.dist %>/scripts/scripts.js'\n          ]\n        }\n      }\n    },\n    rev: {\n      dist: {\n        files: {\n          src: [\n            '<%= yeoman.dist %>/scripts/{,*/}*.js',\n            '<%= yeoman.dist %>/styles/{,*/}*.css',\n            '<%= yeoman.dist %>/images/{,*/}*.{png,jpg,jpeg,gif,webp,svg}',\n            '<%= yeoman.dist %>/styles/fonts/*'\n          ]\n        }\n      }\n    },\n    copy: {\n      dist: {\n        files: [{\n          expand: true,\n          dot: true,\n          cwd: '<%= yeoman.app %>',\n          dest: '<%= yeoman.dist %>',\n          src: [\n            '*.{ico,txt}',\n            '.htaccess',\n            'components/**/*',\n            'images/{,*/}*.{gif,webp}',\n            'styles/fonts/*'\n          ]\n        }]\n      }\n    }\n  });\n\n  grunt.renameTask('regarde', 'watch');\n\n  grunt.registerTask('server', [\n    'clean:server',\n    'coffee:dist',\n    'compass:server',\n    'livereload-start',\n    'connect:livereload',\n    'open',\n    'watch'\n  ]);\n\n  grunt.registerTask('test', [\n    'clean:server',\n    'coffee',\n    'compass',\n    'connect:test',\n    'karma'\n  ]);\n\n  grunt.registerTask('build', [\n    'clean:dist',\n    'jshint',\n    'test',\n    'coffee',\n    'compass:dist',\n    'useminPrepare',\n    'imagemin',\n    'cssmin',\n    'htmlmin',\n    'concat',\n    'copy',\n    'cdnify',\n    'ngmin',\n    'uglify',\n    'rev',\n    'usemin'\n  ]);\n\n  grunt.registerTask('default', ['build']);\n};\n"]],"start1":0,"start2":0,"length1":0,"length2":6829}]],"length":6829}
